## 해시맵(HashMap)이란?
- HashMap 은 키(Key)와 값(value)쌍을 저장하는 자료 구조이다.  
- 각 키는 **고유**하며, 키를 사용하여 해당하는 값을 **빠르게** 검색할 수 있다.

### 해싱 (Hashing)
- 해시맵에서의 핵심 원리.
- "해싱 함수"를 통해서 키 값을 "해시코드"로 변환. -> 그 해시코드를 기준으로 데이터를 저장한다.

![[Pasted image 20240324021137.png]]


### 특징
- 순서를 보장하지 않음 : 'HashMap' 은 내부적으로 키의 순서를 보장하지 않는다.
- 키의 중복 불가 : 같은 키를 중복해서 사용할 수 없다. 이미 존재하는 키에 대해 값을 저장하면 기존 값이 덮어씌워진다.
- null 키와 값 : 'HashMap'은 null 키와 null 값을 저장할 수 있다. 하지만 키는 중복이 불가하므로 null 키는 하나만 저장될 수 있다.
#### 장점
- 키 기반의 빠른 액세스 : 키를 사용하여 값을 빠르게 검색하거나 수정할 수 있다.
- 키 기반의 유연성 : 어떤 객체든 키로 사용할 수 있다.
- 검색 추가 삭제 연산이 평균적으로 상수시간이 나와 매우 빠르다.

#### 단점
- 해시맵 내부 구조는 연결 리스트에 대한 포인터를 유지하기 때문에, 메모리 사용량이 크게 증가할 수 있다.
- 해시 함수 충돌이 발생할 경우 성능이 저하

### 해시충돌
- 해시맵에서 해시 충돌이란, 두 개 이상의 키가 동일한 해시값을 가지게 되면 일어난다
- 해결 방법으로는 Open Addressing 방식과 Chaining 방식이 있다.
![[Pasted image 20240324024328.png]]

open addressing
- 찾은 해시값의 버킷이 이미 사용중인 경우 비어있는 다른 해시 버킷에 데이터를 삽입하는 방식
- 장점 : **연속된 공간에 데이터를 저장**하기 때문에 **캐시** 효율이 좋다. (데이터가 적으면 좋다. 많으면 적중률이 떨어지므로 안좋다)
- 단점 : 삭제가 어렵다. 해시 함수 성능에 영향을 크게 받는다
- python이 이 방식을 사용한다.
Chaining
- 찾은 해시값의 버킷이 이미 사용중인 경우 링크드 리스트를 만들어 순차적으로 저장
- 장점 : 삭제가 쉽다. 성능이 비교적 안정적이다
- 단점 : 추가적인 메모리를 사용한다 (단순 배열이 아닌 연결리스트이기 때문에), 데이터가 분산되어 저장되어서 캐시 히트가 줄어든다
- java가 이 방식을 사용한다

### 파이썬에서의 해시맵
- 파이썬에서는 "딕셔너리" 형태로 해시맵이 구현되어 있다.
- 딕셔리와 리스트의 시간복잡도 차이

| Operation   | Dictionary | List        |
| ----------- | ---------- | ----------- |
| Get Item    | O(1)       | O(1)        |
| Insert Item | O(1)       | O(1) ~ O(N) |
| Update Item | O(1)       | O(1)        |
| Delete Item | O(1)       | O(1) ~ O(N) |
| Search Item | O(1)       | O(N)        |

### 해쉬를 사용하기 좋은 경우
1. 리스트를 쓸 수 없을 때
- 원소에 접근할 때 상수가 아닌 다른 자료형을 사용할 때
- list[1]은 가능하지만 list['a']는 불가능

2. 빠른 접근  / 탐색이 필요할 때
- 딕셔너리 함수의 시간복잡도는 대부분 O(1)이므로 매우 빠르다.

3. 집계가 필요할 때
- 특정 원소의 개수를 세거나, 특정 값 혹은 객체를 카운트 할 때


### 파이썬에서 딕셔너리 사용하기
```python
# 빈딕셔너리 생성 
dict1 = {} # {} 
dict2 = dict() # {}

Dog = { 'name': '동동이', 
	   'weight': 4, 
	   'height': 100, 
}

# 중첩도 가능하다
Animals = { 'Dog': { 'name': '동동이', 'age': '5' }, 
		   'Cat': { 'name': '야옹이', 'weight': 3 } 
}

# get
from collections import defaultdict
dict = defaultdict('하이': 300, '헬로': 180, 3: 5)
dict['헬로'] # 180
dict['ㅎㅇ'] # 0
dict.get('ㅎㅇ',100) # "ㅎㅇ"라는 키가 존재하지 않으면 0을 가져와라

# set
dict = {'김철수' : 300, 'Anna': 180} 
dict['김철수'] = 100
#{'Anna': 180, '김철수': 100}

# delete
dict = {'김철수': 300, 'Anna': 180} 
del dict['김철수'] 
#{'Anna': 180}
dict = {'김철수': 300, 'Anna': 180} 
dict.pop('홍길동', 180) # "홍길동"이라는 값이 없으면 180을 리턴


```



### Reference
- https://wikidocs.net/193049
- https://yunaaaas.tistory.com/46
- https://wikidocs.net/193049
- https://velog.io/@kms403/%ED%95%B4%EC%8B%9C%EB%A7%B5HashMap