#hashing_algorithm #해싱알고리즘_찍먹

### hashing algorithm?

키(Key) 값을 해시 함수(Hash Function)라는 수식에 대입시켜 계산한 후 나온 결과를 주소로 사용하여 값(Value)에 접근하게 할 수 하는 방법

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fb8A2pM%2FbtryI5m2piK%2Fcv3C7kfDq5xsaQuv4inKWK%2Fimg.png)
### hash function?

키(Key) 값을 값(Value)이 저장되는 주소 값으로 바꾸기 위한 수식

#### 조건
- 해시 함수는 계산이 쉬워야 함
    - 비교 검색 방법을 사용하여 키 값의 비교 연산을 수행하는 시간보다 해싱 함수를 사용하여 계산하는 시간 이 빨라야(O(n)) 해싱 검색을 사용하는 의미가 있음
-  해시 함수는 충돌이 적어야 함
    - 충돌이 많이 발생한다는 것은 같은 버킷을 할당 받는 키 값이 많다는 것이므로 비어있는 버킷이 많은데도 어떤 버킷은 오버플로우가 발생할 수 있는 샹태가 되므로 좋은 해싱 함수가 될 수 없음
- 해시 테이블에 고르게 분포할 수 있도록 주소를 만들어야 함

#### 종류

- ==제산 함수==
    함수는 나머지 연산자 mod(C에서는 %연산자)를 사용하는 방법
    키 값 k를 해시 테이블의 크기 M으로 나눈 나머지를 해시 주소로 사용
    제산 함수 : h(k) = k mod M
    M으로 나눈 나머지 값은 0~(M-1)이 되므로 해시 테이블의 인덱스로 사용
    해시 주소는 충돌이 발생하지 않고 고르게 분포하도록 생성되어야 하므로 키 값을 나누는 해시 테이블의 크기 M은 적당한 크기의 소수 사용
    
- ==승산 함수==
    곱하기 연산을 사용하는 방법
    키 값 k와 정해진 실수 $a$를 곱한 결과에서 소수점 이하 부분만을 테이블의 크기 M과 곱하여 그 정수 값을 주소로 사용
    
- ==접지 함수==
	키의 비트 수가 해시 테이블 인덱스의 비트 수보다 큰 경우에 주로 사용
    - 이동 접지 함수
        : 각 분할 부분을 이동시켜 오른쪽 끝자리가 일치하도록 맞추고 더하는 방법
        ex) 해시 테이블 인덱스가 3자리이고 키 값 k가 122312312312인 경우
![500](https://csocrates-s3.s3.ap-northeast-2.amazonaws.com/hashing%20algorithm%20/%20%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%EC%A0%84%206.10.24.png)
	- 경계 접지 함수
	    : 분할된 각 경계를 기준으로 접으면서 서로 마주보도록 배치하고 더하는 방법
	    ex) 해시 테이블 인덱스가 3자리이고 키 값 k가 12312312312인 경우
![](https://csocrates-s3.s3.ap-northeast-2.amazonaws.com/hashing%20algorithm%20/%20Pasted%20image%2020240324061220.png)
- ==숫자 분석 함수==
		키 값을 이루고 있는 각 자리수의 분포를 해석하여 해시 주소로 사용하는 방법
	    각 키 값을 적절히 선택한 진수로 변환한 후에 각 자릿수의 분포를 분석하여 가장 편중된 분산을 가진 자릿수는 생략하고, 가장 고르게 분포된 자릿수부터 해시 테이블 주소의 자릿수만큼 차례로 뽑아서 만든 수를 역순으로 바꾸어 주소로 사용
	    *모든 키를 미리 알고 있는 정적 화일과 같은 경우 유용*
	        ex) 키 값이 학번이고 해시 테이블 주소의 자릿수가 3자리인 경우
	        
- ==문자열 키를 정수로 변환==
	    스트링을 음이 아닌 유일한 정수로 변환시킬 필요는 없다
	    모든 스트링을 그 길이에 상관 없이 16비트 정수로 사상시킬 수 있다
	    
- ==안전 해시 함수==
    컴퓨터 보안 분야의 여러 응용에 사용되는 해시 함수 ex) 메세지 인증
    해시 함수는 데이터(입력)를 비교적 작은 크기의 스트링(출력)으로 만드는 방법
    → 해시 함수의 출력은 입력된 데이터의 디지털 “지문”의 역할을 한다
    
    - 안전 해시 함수의 특성
        - 약한 충돌 저항
            - x와 h(x)가 주어졌을 때 h(x)=h(y)인 y(≠x)를 찾는 것을 어렵게 만드는 것
        
        - 단방향 특성
            - h(k)=c를 만족하는 c가 주어졌을 때, k를 찾는 것을 계산적으로 어렵게 만드는 것
            
        - 강한 충돌 저항
            - h(x)=h(y)를 만족시키는 (x,y)쌍을 계산적으로 찾기 어렵게 만드는 것
            
        - 보안 외에도 실용적으로 사용될 수 있도록 가지는 특성들
            1. h는 데이터 블록 크기 상관 없이 적용 가능해야 함
            2. h는 고정 길이의 해시 코드를 만들어야 함
            3. h(k)는 어떤 k 가 주어져도 계산이 비교적 쉬워서 하드웨어와 소프트웨어의 구현이 실용적이여야함

### 오버플로우 처리 방법

- 개방 주소법(open addressing) → 다른 자리, 주소 찾아서 개방(들어감)
    - 선형 조사법(linear probing)
    - 이차 조사법(quadratic probing)
    - 재해싱(rehashing)
    - 임의 조사법(random probing)
    
- 체이닝 (chaining) → 그 자리에 우겨넣기(주소가 바뀌는게 아님)

- 동적 해싱(dynamic hashing)
	*버킷의 크기를 정해두지 않음*
	- 해시 테이블에 삽입으로 인해 테이블의 크기가 커지게 되는 경우 발생
	- 버킷을 2배로 늘릴 수 있으나, 테이블에 저장된 엔트리들에 대해 재조정 필요
	- 확장성 해싱(extendible hashing)이라고도 불림
	- 재조정을 한 번 할 때마다 오직 하나의 버킷 안에 있는 엔트리들에 대해서만 홈 버킷을 변경하게 하여 재조정 시간을 줄임

### 동적 해싱

- 디렉터리를 이용한 동적 해싱
	- 오버플로우가 생겼을 때 디렉터리를 2배로 확장하여 재저장 하는 방법
		- 버킷들에 대한 포인터를 저장하고 있는 디렉터리 d를 이용
		- 디렉터리의 크기 : h(k)의 비트 수에 좌우
		- 디렉터리의 깊이
		    - 디렉터리를 인덱싱하는 h(k)의 비트 수
		    - t : 디렉터리 깊이, $2^t$ : 디렉터리 크기
	        - h(k,2)를 사용하여 인덱싱 → 디렉터리의 크기 = $2^2$ = 4
	        - h(k,5)를 사용하여 인덱싱 → 디렉터리의 크기 = $2^5$ = 32
	    - 버킷 수 < 디렉터리 크기
	
        *일반적으로 디렉터리가 많아야 어디로 가야 하는지 잘 가르킬 수 있다*
        ![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F992101345A77BDE20E)

- 디렉터리가 없는 동적 해싱
	- 버킷 포인터의 디렉터리 d 대신 버킷의 배열인 ht를 사용
	- q와 r이라는 변수 (0≤q=2r)를 두어 활성화된 버킷에 대한 정보를 얻어냄
	    *→ 크기가 매우 커서 동적으로 늘릴 필요가 없다고 가정하여 초기화 하지 않기 위해*
	- 항상 0부터 $2^r$+q-1까지의 버킷만 활성화됨
	- 0부터 q-1과 $2^r$부터 $2^r$+q-1까지의 활성 버킷은 h(k,r+1)을 이용하여 인덱싱
	- 나머지 활성 버킷들은 h(k,r)을 이용하여 인덱싱
![500](https://csocrates-s3.s3.ap-northeast-2.amazonaws.com/hashing%20algorithm%20/%20Pasted%20image%2020240324063541.png)

### 사용 분야

 - 보안(Security) : 데이터의 위변조를 막기 위해 전자서명이나 보안 알고리즘에 사용

- 자료 구조(Data Structure) : 기억 공간에 저장된 정보를 보다 빠르게 검색하기 위해 절대주소나 상대주소가 아닌 해시 테이블(Hash Table)을 생성하는 방식


### 참고 자료
(https://dev-kani.tistory.com/2)
(https://swingswing.tistory.com/169)

