---

---
---
### 쿡북 2.2 / 2.3

**서브넷과 라우팅 테이블을 포함한 네트워크 티어 생성**

문제 1
- 리소스 분할 및 중복을 위해 개별 IP 공간으로 구성한 VPC 네트워크를 생성해야 함

해결 1
- VPC 내에 라우팅 테이블을 생성함
- VPC의 다른 가용 영역에 서브넷 2개를 생성함

	클라우드 리소스를 호스팅한 네트워크 구축 방법
	- AMAZON VPC를 생성하고 이에 대한 CIDR 블록 구성
		- CIDR?
			- IP 주소와 그 서브넷 마스크를 나타내는 방법으로, 네트워크 주소 할당과 라우팅에 사용
			- CIDR 표기법은 IP 주소 뒤에 슬래시를 붙이고, 그 뒤에 네트워크 프리픽스(서브넷 마스크의 길이)를 적음


**인터넷 게이트웨이를 사용해 VPC를 인터넷에 연결**

문제 2
- VPC의 서브넷에서 기존에 실행 중인 EC2 인스턴스가 인터넷을 통해 클라이언트와 통신해야 함

해결 2
- 인터넷 게이트웨이를 생성해 VPC에 연결함
- EC2 인스턴스의 서브넷에서 인터넷 게이트웨이로 트래픽을 보내는 경로를 추가한다. 마지막으로 그림과 같이 탄력적 IP 주소를 생성해 인스턴스와 연결함

	인터넷 게이트 웨이
	- VPC와 인터넷을 연결해주는 하나의 관문
	
	인터넷 게이트웨이가 필요한 이유
	- 라우터와 라우팅 테이블을 통해 데이터는 라우터로 향하게 되며 네트워크 요청은 각각 정의된 라우팅 테이블에 따라 작동
	- 이때 라우팅 테이블은 VPC 안의 네트워크 범위를 갖는 네트워크 요청은 로컬에서 찾음
	- 하지만 네트워크 범위 외에 외부로 통하는 트래픽은 처리할 수 없기에 인터넷 게이트웨이 사용