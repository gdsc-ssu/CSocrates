# IAM
---
AWS 내부에 권한과 정책에 대해 관리하는 메뉴

IAM은 특정한 유저와 정책을 생성해 리소스를 보호할 수 있다.
IAM은 리전에 따라 구분되지 않고 유니버셜하게 관리된다는 점이 존재한다.

유저 -> 엑세스 키와 비밀키를 가지고 AWS 리소스를 사용하는 객체
그룹 -> 하나 혹은 여러 유저를 저장하고 있음
정책 -> 실질적으로 허용하는 행동들을 정의하는 곳
역할 -> 하나 혹은 다수의 정책을 포함하며 유저에서 할당

문제
1. 모든 곳에서 관리자 권한으로 사용하는 것을 방지하고자 AWS에서 개발자용 IAM을 생성해야함
2. AWS 계정에서 사용자가 현재 사용하는 서비스, 리소스, 작업에 대해서만 엑세스를 허용하도록 최소 권한 접근(least privilege access) 정책 구현함
3. 보안 정책에 따라 AWS 계정 내 모든 사용자에 대해 암호 정책을 시행해야 함. 암호는 90일의 유효 기간이 있으며 소문자, 대문자, 숫자, 기호 포함하여 최소 32자로 구성해야함
4. IAM 정책을 실제로 사용하기 전에 영향 범위를 확인하려 함
5. 팀원이 람다 함수를 배포하고 람다 함수가 사용할 수 있는 IAM 역할을 생성할 수 있도록 권한 부여함. 생성된 IAM은 라다 함수가 필요한 작업만 허용하도록 권한을 제한하여야 함

해결
1. IAM 정책을 사용해 수임 가능한 역할 생성하고 관리형 PowerUserAccess IAM 정책을 역할에 연결
2. IAM Access Analyzer 사용해 AWS 계정의 Cloud Trail 활동을 기반으로 IAM 정책을 생성
3. AWS 계정의 IAM 사용자에 대한 암호 정책을 설정함. IAM 그룹과 IAM 사용자를 생성하고, 그룹에 사용자를 추가해 정책이 올바르게 적용됬는지 확인함
4. IAM 정책을 IAM 역할에 연결하고 나서 IAM 정책 시뮬레이터로 작업함
5. 권한 경계 정책을 생성한 뒤 람다 개발자를 위한 IAM 역할을 생성하고 경계 정책을 지정하는 IAM 정책을 생성한 다음 생성한 역할에 정책을 연결