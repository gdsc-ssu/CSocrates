Application Layer

### SMTP (me)
- 전자 메일을 보내기 위해 사용하는 프로토콜, 메일 서버끼리 통신할 때 사용함
- 7비트 아스키코드만 담을 수 있고 이외의 메세지는 MIME 포멧으로 변환하여 SMTP에 담기게 됨
- SMTP는 push형식으로 메일을 송신할때 사용되지만 수신할떄는 다른 메일 프로토콜의 pull형식으로 가져옴
- 이메일이 발전하면서 웹 브라우저에서도 볼 수 있는 웹 메일이 나오게 됨. 이로 인해 메일 서버끼리의 통신 이외에는 HTTP를 사용할 수 있게 됨

### SSH
- Secure Shell의 줄임말로 원격 호스트에 안전하게 접속하기 위해 사용하는 프로토콜
- 암호화를 위해선 키가 필요하는데 대칭키와 비대칭키가 있음
	- 대칭키
		- 암호화 할때 사용하는 키와 복호화 할때 사용하는 키가 동일한 방식
		- 그러므로 해당 키가 없으면 복호화 불가
		- 하지만 이 마스터키만 훔치면 모두 복호화할 수 있다는 단점 존재
		- **키를 어떻게 안전하게 전달할지가 중점**
		- 키는 전송할때 마다 필요하고 복호화와 암호화가 동시에 적용되니 필요한 키의 개수는 N(N-1)/N
	- 비대칭키
		- 암호화 할때 사용하는 키와 복호화 할때 사용하는 키가 동일하지 않은 방식
		- 타인에게 공개되는 "공개키"와 자신만 열람할 수 있는 "개인키" 활용
			- 공개키로 암호화하고 개인키로 복호화하는 경우
				- 개인키를 가진 자만 내용 확인 가능
				- 누구나 잠굴수 있지만 아무나 못 엶 -> 안전한 통신 가능
			- 개인키로 암호화하고 공개키로 복호화하는 경우
				- 공개키를 가진 누구나 내용 확인 가능
				- 보안을 위해서 보다 누가로부터 전송되었는지를 확인하기 위해 사용
		- 키는 공개키 N개, 개인키 N개가 필요하므로 2N개
- SSH는 대칭키와 비대칭키를 혼합하여 진행
	-  비대칭 키 방식을 활용해 대칭 키를 교환하고 이후 대칭 키를 통해 통신을 진행

**RSA**
	- 대칭 키 알고리즘으로 RSA2048, 4096 등 여러 버전으로 존재함. AWS, FCM 등에서 발급해주는 .pem 파일이 전부 이 알고리즘을 활용해 만들어짐
	- 큰 수의 소인수 분해는 많은 시간이 소요된 다는 점을 활용해 보안성을 높인 방식

	아무튼 무지 복잡하기 때문에 뚫을 수 없다. 뚫을려면 양자컴퓨터를 사자!

### SSL / TLS
- SSL : 웹사이트의 ID를 인증하고 암호화된 연결을 생성하는 인터넷 보안 프로토콜
	- 사용하는 이유
		- SSL이 적용하지 않고 데이터를 주고받는다면 문자열 그대로가 노출되기 때문에 제 3자가 탈취하기 쉬움
- TLS : SSL과 거의 동일한 프로토콜로 특정 회사(Netscape)에 의해 개발된 SSL을 인터넷 표준화 기구인 IETF (Internet Engineering Task Force)에서 표준화

*현재 모든 SSL은 지원하지 않고 TLS만 사용하는데 다들 통일해서 SSL이라고 부름*

- 암호화 방식
	- 대칭키와 비대칭키를 혼합해 사용함
		- 방식은 위 SSH와 동일
- SSL 인증서
	- 클라이언트와 서버간의 통신을 제 3자가 보증해주는 전자화된 문서
	- CA라고 불리는 공인된 기관에서 유료로 발급
		- CA(Certificate authority) 혹은 Root Certificate 라고도 불림
		- 민간기업 중 엄격한 심사를 통해서 선정된 SSL 인증서 발급 기업
		- CA는 기본적을 브라우저에 내장
	- 서비스를 보증하는 방법
		1. 사용자가 서버에게 인증서 요청
		2. 서버는 인증서를 사용자에게 제공
		3. 사용자는 이 인증서를 CA가 발급한게 맞는지 확인
		4. 발급한게 맞으면(인증된 서버) 맞다고 사용자에게 알림
		5. 이후 사용자와 서버 통신

		*CA는 도장만 찍어주고 확인해주는 역할 근데 그 도장으로 돈을 엄청나게 버는... 뚫리면 큰일나는거 생각하면 그럴만도*

### DNS
- Domain Name System의 약자로 IP 주소를 기억하는 대신 인터넷 도메인 이름과 URL을 통해서 웹사이트에 접속할 수 있게 해줌
- 서버 종류
	- Root
		- ICANN에서 관리하는 최상위 루트 DNS 서버
		- TLD 서버의 IP를 저장하고 있다.
	- TLD (Top Level Domain)
		- 도메인 등록 기관이 관리하는 서버
		- Authoritative DNS Server 주소를 저장
	- Authoritative DNS Server
		- SLD (Second Level Domain) DNS Server라고도 부름
		- 실제 개인 도메인과 IP 주소의 관계가 기록/저장/변경되는 서버
	- Recursive DNS Server
		- Local DNS Server라고도 부르며, 사용자가 가장 먼저 접근
		- 한번 데이터를 얻으면 캐시하고, 사용자에게 전달하며, 없다면 상위 서버에 질의
- 레코드
	- A
		- 도메인 이름을 IPv4 주소로 변환
	- AAAA
		- 도메인 이름을 IPv6 주소로 변환
	- CNAME
		- 실제 호스트명 (A레코드)과 연결되는 별명, 별칭을 정의
	- MX
		- 메일서버에 도달할 수 있는 라우팅정보를 제공
	- NS
		- 인터넷에서 해당 도메인의 IP를 찾기 위해서 가야할 곳을 안내
- 추가로
	- DNS는 신뢰성 있는 통신이 필요 없어 주로 UDP를 사용함

### FTP
- File Transfer Protocol의 약자로 파일을 주고 받기 위해 만들어진 프로토콜
- TCP/IP를 활용하여 파일을 전송
- FTP를 사용해서 파일을 주고 받고 싶다면 FTP 서버와 FTP 클라이언트가 필요
	- TCP 연결 후 username, password를 전달하고, response 230을 받게 되면 연결 설정 완료
- 연결 종류
	- 명령 연결
		- 제어 포트(21) 사용
		- 사용자 인증, 명령을 위한 연결 생성
	- 데이터 전송용 연결
		- 실제 파일을 연결하기 위한 역할
			- 능동 모드 : 20번 포트에서 클라이언트가 지정한 지점으로의 데이터 연결을 만듦
			- 수동 모드 : 서버가 지정한 서버 포트로 클라이언트가 연결할 수 있게 함
- 보안
	- 보안 측면은 전혀 고려되지 않았기 때문에 취약함


~~너무 어렵고 제가 부족한게 많이 느껴졌숩니다... 더 열심히 공부할게여,,,
