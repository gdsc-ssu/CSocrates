# HTTP 개관
HTTP에 대해 쭉 둘러보았다.
멀티미디어를 전송하기 위해 만들어진 HTTP.

# HTTP 메세지
메세지는 시작 줄, 헤더, 본문으로 이루어져 있고, 요청과 응답에 따라 시작줄이 다르게 전송된다.

# TCP Connection
HTTP는 TCP로 연결되는데, 시간이 오래 걸린다. 왜 그럴까?
확인 응답 지연 -> piggyback으로 전송 + ACK 패킷 묶어서 전송하려고 하니 느려진다.
TCP Slowstart -> 초기에 매우 느리다.
네이글 알고리즘 -> 패킷 버퍼링. 세그먼트가 최대 크기가 되지 않으면 대기함.
TIME_WAIT, 포트 고갈 -> 이전 커넥션과 관련된 패킷이 같은 주소, 포트 번호를 가지는 커넥션에 삽입되는 문제를 막음.


어떻게 성능을 개선시킬 수 있을까?
병렬 커넥션 : 동시에 여러 커넥션 쌓기. 요즘엔 6~8개 지원.
지속 커넥션 : 사이트 지역성을 활용하기 위해 TCP 커넥션을 유지. Connection: Keep-Alive, Keep-Alive 헤더 사용.
파이프라이닝 커넥션 : 지속 커넥션을 이용해서 병렬 처리.

# 웹서버
요즘은 엔진엑스가 강세.
커넥션 맺고 요청 받고 요청 처리하고 리소스 접근하고 응답 만들고 응답 보내고 로그 남기고 끝.

웹서버 아키텍처?
- 단일 스레드 I/O 아키텍처 : 초기
- 멀티스레드 I/O 아키텍처 : 커넥션별로 쓰레드 만들기
- 다중 I/O 아키텍처 : 쓰레드는 1개인데, 이벤트 루프, 비동기 등을 사용해서 처리하는 방식. (요즘 이걸 사용!)
- 다중, 멀티스레드 IO 아키텍처

# HTTPS
HTTP는 너무 보안에 취약했다. 그래서 보안 전송 계층을 통해 http를 전송하는 https가 등장했다.
SSL(자세히 말하면 TLS) 기반으로 한다.