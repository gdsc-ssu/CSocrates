### 참고
https://ko.wikipedia.org/wiki/QUIC
https://www.quora.com/What-programs-use-UDP

- DNS
- QUIC (HTTP3)
- NTP (Network Time Protocol)
- DHCP
- 이외 연결성이 추가로 필요하지 않거나, 지속적이면서 빠른 데이터 송수신을 구현해야하는 경우 사용한다.

# DNS
DNS (Domain Name System)는 인터넷 상에서 도메인 이름을 IP 주소로 변환하는 시스템이다. 

1. **속도와 효율성**: UDP는 TCP에 비해 오버헤드가 적습니다. TCP는 연결 설정, 데이터 전송 순서 보장, 오류 검출 및 수정 등 복잡한 기능을 제공하지만, 이러한 기능들은 추가적인 데이터와 시간을 필요로 합니다. 반면, UDP는 연결이 없는 프로토콜이며, 최소한의 오버헤드로 데이터를 전송합니다. DNS 쿼리는 대체로 작은 데이터 패킷으로 구성되어 있어, 빠른 처리가 가능한 UDP가 적합합니다.
    
2. **간단한 트랜잭션**: DNS 쿼리는 대부분 간단한 질의와 응답의 형태를 취합니다. 클라이언트가 DNS 서버에 도메인 이름에 대한 쿼리를 보내고, 서버는 해당 IP 주소를 응답으로 돌려줍니다. 이러한 간단한 트랜잭션은 TCP의 신뢰성 있는 연결보다는 UDP의 빠른 '한 번의 요청과 한 번의 응답' 방식이 더 적합합니다.
    
3. **자원의 효율적 사용**: TCP는 연결 설정과 유지를 위해 추가적인 자원을 필요로 합니다. DNS 서버는 동시에 많은 요청을 처리해야 하는데, 각 요청에 대해 TCP 연결을 설정하고 유지하는 것은 자원의 낭비가 될 수 있습니다. UDP를 사용함으로써 서버는 더 많은 클라이언트 요청을 효율적으로 처리할 수 있습니다.

# QUIC
https://www.cdnetworks.com/ko/media-delivery-blog/what-is-quic/
QUIC이란 Transport Layer Protocol으로서, 구글의 짐 로드킨드가 설계하고 발표하였다.
(퀵이라고 발음하면 됩니다 :) )
구글 크롬부터 구글 서버 등, 모든 연결의 절반 이상이 해당 프로토콜을 통해서 진행되고 있다.
Edge, Firefox는 기본 설정이 아니지만, Safari, Chrome은 자동 설정이다.

![[Pasted image 20231202102737.png]]
(출처 : https://musclebear.tistory.com/51)
### 사용되는 이유
1. 빠른 핸드 쉐이크
UDP를 사용하여를 1 RTT로 변경하도록 설정
TCP 연결 설정을 위해선 3-way handshake가 필요하고, 다시 TLS 연결도 시도해야한다.
하지만 QUIC은 UDP 위에서 동작함으로 TLS 포함 연결 설정까지 1 RTT 안에 가능하다.
또한 이전에 연결이 이루어졌다면 캐싱된 데이터를 기반으로 바로 TLS 연결이 설정할 수 있다. (연결 요청 없이도)
![[Pasted image 20231202102049.png]]

2. 보안성 향상
TCP는 헤더 정보가 모두 노출됨에 따라 다양한 데이터들이 보안 처리가 되어 있지 않은 상태로 전송되게 된다. (TLS 또한 TCP 위에서 동작함에 따라서 TLS 자체도 100% 보안처리 할 수 없다.)
하지만 QUIC은 헤더 자체도 보안이 됨에 따라서 더 높은 보안 수준을 처리할 수 있다.
![[Pasted image 20231202102923.png]]

3. HoL 차단 개선
HoL은 Head of Line 약자이다.
여러 데이터 요청이 동일한 TCP 연결에서 서로 다른 스트림으로 전송되며 애플리케이션 계층의 모든 스트림이 순서대로 처리되어야 한다.
스트림의 데이터가 손실되면 손실된 데이터가 재전송될 때까지 그 뒤에 있는 다른 스트림의 데이터가 차단되며 수신 측에서 이미 후속 스트림의 데이터 패킷을 수신한 경우에도 애플리케이션 계층에 알리지 않는다.

기존 TCP 방식
![[Pasted image 20231202103355.png]]

다중 스트림을 통한 HoL 개선을 하였다.
![[Pasted image 20231202103420.png]]
또한 기존 TCP 위에서 동작하는 것을 때문에 새로운 프로토콜을 올리기에는 라우터나 기존 장비들을 업데이트하는데 큰 비용이 들지만, QUIC의 경우 UDP 위에서 동작하기 때문에 새로운 프로토콜이나 방식을 도입하는데 큰 비용이 들지 않는다.

#### QUIC의 장점
1. **스트림 기반 전송**: QUIC는 여러 동시 스트림을 지원합니다. 각 스트림은 독립적으로 데이터를 전송하며, 이는 TCP의 Head-of-Line Blocking 문제를 감소시킵니다. 즉, 한 스트림의 패킷 손실이 다른 스트림의 전송에 영향을 미치지 않습니다.
    
2. **데이터 패킷 재전송**: QUIC는 전송된 데이터 패킷에 대한 수신 확인(ACK)을 받지 못하면 해당 패킷을 재전송합니다. 이는 TCP의 재전송 메커니즘과 유사하며, 데이터 전송의 신뢰성을 보장합니다.
    
3. **패킷 손실 감지**: QUIC는 네트워크 상태를 모니터링하고 패킷 손실을 감지합니다. 손실된 패킷은 빠르게 재전송되어, 데이터 전송의 연속성과 신뢰성을 유지합니다.
    
4. **순서에 따른 패킷 전송**: QUIC는 전송된 패킷의 순서를 추적합니다. 수신자는 순서가 뒤바뀐 패킷을 올바른 순서로 재정렬할 수 있으며, 이는 데이터의 정확한 전달을 보장합니다.
    
5. **연결 및 흐름 제어**: QUIC는 연결 상태를 관리하고, 흐름 제어를 통해 데이터 전송 속도를 조절합니다. 이는 네트워크 혼잡을 방지하고 데이터 전송의 안정성을 향상시킵니다.
    
6. **암호화**: QUIC는 통신의 보안을 강화하기 위해 TLS(Transport Layer Security)를 기본적으로 사용합니다. 이는 데이터 전송의 무결성 및 기밀성을 보장합니다.

# NTP
http://www.ktword.co.kr/test/view/view.php?m_temp1=2106
Network Time Protocol의 약자로 인터넷에서 라우터나 하드웨어 디바이스의 클럭을 동기화하는데 사용하는 프로토콜이다.